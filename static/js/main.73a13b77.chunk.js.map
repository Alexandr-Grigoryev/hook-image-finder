{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/Modal/Modal.js","Components/Container/Container.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","apiServiсe.js","App.js","index.js"],"names":["module","exports","Modal","img","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","className","s","Overlay","onClick","event","currentTarget","target","src","alt","Container","children","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","SearchForm","preventDefault","trim","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","toLowerCase","ImageGalleryItem","id","URL","largeImg","selectImg","ImageGalleryItemImage","ImageGallery","imgArr","map","item","webformatURL","largeImageURL","Button","onLoadMore","page","a","fetch","response","ok","json","Promise","reject","Error","App","images","setImages","setPage","loading","setLoading","selectedImg","setSelectedImg","setTimeout","apiService","then","prevState","hits","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","loader","color","height","width","timeout","length","newestOnTop","rtl","pauseOnFocusLoss","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.73a13b77.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1J9A8\",\"Modal\":\"Modal_Modal__pI8xP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3vPuD\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__HNjli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1K2O_\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__ha-BI\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1pa8n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__tyv60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3MY23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1hPr5\",\"SearchForm\":\"Searchbar_SearchForm__34AUm\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1J2fP\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3Z6eO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__lHMcS\"};","import { useEffect } from \"react\";\n\nimport s from \"./Modal.module.css\";\n\nexport default function Modal({ img, onClose }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  // componentDidMount() {\n  //   window.addEventListener(\"keydown\", this.handleKeyDown);\n  // }\n\n  // componentWillUnmount() {\n  //   window.removeEventListener(\"keydown\", this.handleKeyDown);\n  // }\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={img} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n","// import s from \"./Container.module.css\";\n\nfunction Container({ children }) {\n  return <div>{children}</div>;\n}\n\nexport default Container;\n","// import { Component } from \"react\";\nimport { useState } from \"react\";\n\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  // state = {\n  //   searchQuery: \"\",\n  // };\n\n  const handleNameChange = (event) => {\n    setSearchQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (searchQuery.trim() === \"\") {\n      toast.error(\"Error\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      // alert(\"\");\n      return;\n    }\n\n    onSubmit(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"on\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchQuery}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import s from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ id, URL, largeImg, selectImg }) {\n  return (\n    <div>\n      <li onClick={() => selectImg(largeImg)} className={s.ImageGalleryItem}>\n        <img id={id} src={URL} alt=\"\" className={s.ImageGalleryItemImage} />\n      </li>\n    </div>\n  );\n}\n","import s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ selectImg, imgArr }) => (\n  <div>\n    {imgArr && (\n      <ul className={s.ImageGallery}>\n        {imgArr.map((item) => (\n          <ImageGalleryItem\n            id={item.id}\n            key={item.id}\n            URL={item.webformatURL}\n            largeImg={item.largeImageURL}\n            selectImg={selectImg}\n          />\n        ))}\n      </ul>\n    )}\n  </div>\n);\n\nexport default ImageGallery;\n","import s from \"./Button.module.css\";\n\nconst Button = ({ onLoadMore }) => (\n  <button className={s.Button} type=\"button\" onClick={onLoadMore}>\n    <span>Load more</span>\n  </button>\n);\nexport default Button;\n","// export default function apiServiсe(searchQuery, page) {\n//   return fetch(\n//     `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=22463604-709d4d80ecefd06266ae1aa7f&image_type=photo&orientation=horizontal&per_page=12`\n//   ).then((response) => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n//     return Promise.reject(new Error(\"Image not found\"));\n//   });\n// }\n\nexport default async function apiServiсe(searchQuery, page) {\n  const response = await fetch(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=22463604-709d4d80ecefd06266ae1aa7f&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  if (response.ok) {\n    return response.json();\n  }\n  return await Promise.reject(new Error(\"Image not found\"));\n}\n","// import { Component } from \"react\";\nimport { useState, useEffect } from \"react\";\n\n// import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\n\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Modal from \"./Components/Modal/Modal\";\nimport Container from \"./Components/Container/Container\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport s from \"../src/Components/Loader/Loader.module.css\";\nimport apiService from \"./apiServiсe\";\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [selectedImg, setSelectedImg] = useState(null);\n  // const [showModal, setShowModal] = useState(false);\n  // state = {\n  //   searchQuery: \"\",\n  //   images: [],\n  //   page: 1,\n  //   loading: false,\n  // };\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    setLoading(true);\n    setTimeout(() => {\n      apiService(searchQuery, page)\n        .then((images) =>\n          setImages((prevState) => [...prevState, ...images.hits])\n        )\n        .finally(() => {\n          setLoading(false);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        });\n\n      // fetch(\n      //   `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=22401387-939474c986f9f27fc379ab5f6&image_type=photo&orientation=horizontal&per_page=12`\n      // )\n      //   .then((response) => response.json())\n\n      //   .then((images) =>\n      //     setImages((prevState) => [...prevState, ...images.hits])\n      //   )\n      //   .finally(() => setLoading(false));\n    }, 1000);\n  }, [page, searchQuery]);\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   const prevSearchQuery = prevState.searchQuery;\n  //   const nextSearchQuery = searchQuery;\n\n  //   if (prevSearchQuery !== nextSearchQuery) {\n  //     setLoading(true);\n\n  //     setTimeout(() => {\n  //       fetch(\n  //         `https://pixabay.com/api/?q=${nextSearchQuery}&page=${page}&key=22401387-939474c986f9f27fc379ab5f6&image_type=photo&orientation=horizontal&per_page=12`\n  //       )\n  //         .then((response) => response.json())\n\n  //         .then((images) => setImages(images.hits))\n  //         .finally(() => setLoading( false ));\n  //     }, 1000);\n  //   } else if (prevState.page !== page) {\n  //     setImages([]);\n  //     setLoading(true);\n  //     fetch(\n  //       `https://pixabay.com/api/?q=${nextSearchQuery}&page=${page}&key=22401387-939474c986f9f27fc379ab5f6&image_type=photo&orientation=horizontal&per_page=12`\n  //     )\n  //       .then((response) => response.json())\n\n  //       .then((images) =>\n  //       // setImages([...prevState.images, ...images.hits] )\n  //       setImages(prevState =>[...prevState.images, ...images.hits] )\n  //       )\n  //       .finally(() => setLoading(false));\n  //   }\n\n  //   window.scrollTo({\n  //     top: document.documentElement.scrollHeight,\n  //     behavior: \"smooth\",\n  //   });\n  // }\n\n  // const toggleModal = () => {\n  //   setShowModal(!showModal);\n  // };\n\n  const toggleModal = () => {\n    setSelectedImg(!selectedImg);\n  };\n\n  const selectImg = (largeImg) => {\n    setSelectedImg(largeImg);\n  };\n\n  const handleFormSubmit = (searchQuery) => {\n    setImages([]);\n    setSearchQuery(searchQuery);\n    setPage(1);\n  };\n\n  const loadMore = () => {\n    setPage((prevState) => prevState + 1);\n  };\n\n  return (\n    <Container>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {loading && (\n        <div className={s.loader}>\n          <Loader\n            type=\"Grid\"\n            color=\"#00BFFF\"\n            height={200}\n            width={200}\n            timeout={3000} //3 secs\n          />\n        </div>\n      )}\n      <ImageGallery imgArr={images} selectImg={selectImg}></ImageGallery>\n      {images.length !== 0 && <Button onLoadMore={loadMore} />}\n\n      {selectedImg && <Modal img={selectedImg} onClose={toggleModal} />}\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n\n      {/* Same as */}\n    </Container>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\n// import \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}